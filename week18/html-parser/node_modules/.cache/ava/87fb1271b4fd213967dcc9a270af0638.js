"use strict";

var _parser = require("../src/parser.js");

var _ava = _interopRequireDefault(require("ava"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _avaThrowsHelperStart(t, assertion, file, line) {
  if (t._throwsArgStart) {
    t._throwsArgStart(assertion, file, line);
  }
}

function _avaThrowsHelperEnd(t, arg) {
  if (t._throwsArgEnd) {
    t._throwsArgEnd();
  }

  return arg;
}

(0, _ava["default"])("parse a single element", function (t) {
  var doc = (0, _parser.parseHTML)("<div></div>");
  var div = doc.children[0];

  if (div.tagName == "div") {
    t.pass();
  }

  if (div.children.length === 0) {
    t.pass();
  }

  if (div.type === "element") {
    t.pass();
  }

  if (div.attributes.length === 2) {
    t.pass();
  }
});
(0, _ava["default"])("parse a single element with text content", function (t) {
  var doc = (0, _parser.parseHTML)("<div>hello</div>");
  var text = doc.children[0].children[0];

  if (text.content === "hello") {
    t.pass();
  }

  if (text.type === "text") {
    t.pass();
  }
});
(0, _ava["default"])("tag mismatch", /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(t) {
    var error;
    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return t["throws"]((_avaThrowsHelperStart(t, "throws", "/Users/caihuiting/Desktop/\u524D\u7AEF\u5B66\u4E60\u8D44\u6599/Github/week18/html-parser/test/parser.test.js", 44), _avaThrowsHelperEnd(t, function () {
              return Promise.reject((0, _parser.parseHTML)("<div></div>"));
            })));

          case 2:
            error = _context.sent;
            console.log(error, "test");
            t.pass();

          case 5:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function (_x) {
    return _ref.apply(this, arguments);
  };
}());
//# sourceMappingURL=/Users/caihuiting/Desktop/前端学习资料/Github/week18/html-parser/node_modules/.cache/ava/87fb1271b4fd213967dcc9a270af0638.js.map